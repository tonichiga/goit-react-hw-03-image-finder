{"version":3,"sources":["App.module.scss","Components/InputForm/InputForm.js","Components/ImageFinder.js","API/API.js","Components/ImageView.js","Components/Modal.js","App.js","reportWebVitals.js","index.js","Components/ImageView.module.scss","Components/Modal.module.scss"],"names":["module","exports","InputForm","onSubmit","getValue","setValue","htmlFor","id","placeholder","name","value","onChange","type","ImageFinderForm","submit","axiosAPI","page","axios","get","then","data","ImageView","array","isOpenModal","className","s","galleryList","map","index","webformatURL","largeImageURL","galleryElement","onClick","galleryImg","src","alt","Modal","largeImg","isOpen","onKeyDown","backdrop","data-value","modal","onKeyPress","image","App","useState","setArray","showMore","setshowMore","searchActive","setSearchActive","setPage","openModal","largeImage","setLargeImage","document","body","classList","add","remove","window","addEventListener","e","code","ImageFinder","hits","preventDefault","target","galleryBtn","prevValue","dataset","Spinner","animation","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b8618d9f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryBtn\":\"App_galleryBtn__3-4NH\"};","// import { useEffect, useState } from 'react';\r\n// import { useDebounce } from 'use-debounce';\r\n// import axiosAPI from '../../API/API';\r\n// import debounce from 'lodash.debounce';\r\n\r\nconst InputForm = ({ onSubmit, getValue, setValue }) => {\r\n  // const [value, setValue] = useState('');\r\n\r\n  // const handleValue = e => {\r\n  //   setValue(e.target.value);\r\n  // };\r\n\r\n  // getValue(value);\r\n\r\n  // const handleSubmit = e => {\r\n  //   e.preventDefault();\r\n  //   axiosAPI(value);\r\n  // };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={onSubmit}>\r\n        <label htmlFor=\"name\">Enter name</label>\r\n        <input\r\n          id=\"name\"\r\n          placeholder=\"Enter name\"\r\n          name=\"pictures\"\r\n          value={setValue}\r\n          onChange={getValue}\r\n        ></input>\r\n        <button type=\"submit\">Найти</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InputForm;\r\n","import InputForm from './InputForm/';\r\n\r\nconst ImageFinderForm = ({ submit, getValue, setValue }) => {\r\n  return (\r\n    <InputForm onSubmit={submit} getValue={getValue} setValue={setValue} />\r\n  );\r\n};\r\n\r\nexport default ImageFinderForm;\r\n","import axios from 'axios';\r\n\r\nconst URL = `https://pixabay.com/api/`;\r\nconst API_KEY = `19788052-12e74352d9c3069c5841e3f0b`;\r\n\r\nexport const axiosAPI = (value, page) =>\r\n  axios\r\n    .get(`${URL}?key=${API_KEY}&q=${value}&per_page=9&page=${page}`)\r\n    .then(({ data }) => {\r\n      return data;\r\n    });\r\n","import s from './ImageView.module.scss';\r\n\r\nconst ImageView = ({ array, isOpenModal }) => {\r\n  return (\r\n    <ul className={s.galleryList}>\r\n      {array.map(({ webformatURL, id, largeImageURL }, index) => (\r\n        <li className={s.galleryElement} key={index}>\r\n          <img\r\n            onClick={isOpenModal}\r\n            className={s.galleryImg}\r\n            src={webformatURL}\r\n            alt=\"pictures\"\r\n            name={largeImageURL}\r\n          />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageView;\r\n","import s from './Modal.module.scss';\r\n\r\nconst Modal = ({ largeImg, isOpen, onClick, onKeyDown }) => {\r\n  return (\r\n    <div className={s.backdrop} onClick={onClick} data-value=\"modal\">\r\n      <div className={s.modal} onKeyPress={onKeyDown}>\r\n        <img className={s.image} src={largeImg} alt=\"pictures\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import './App.css';\nimport ImageFinderForm from './Components/ImageFinder';\nimport { axiosAPI } from './API/API';\nimport ImageView from './Components/ImageView';\nimport { useState } from 'react';\nimport s from './App.module.scss';\nimport Modal from './Components/Modal';\nimport Spinner from 'react-bootstrap/Spinner';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nfunction App() {\n  const [array, setArray] = useState([]);\n  const [value, setValue] = useState('');\n  const [showMore, setshowMore] = useState(false);\n  const [searchActive, setSearchActive] = useState(false);\n  const [page, setPage] = useState(1);\n  const [openModal, isOpenModal] = useState(false);\n  const [largeImage, setLargeImage] = useState('');\n\n  const handleSubmit = e => {\n    setshowMore(false);\n    setSearchActive(true);\n    axiosAPI(value, page).then(data => {\n      setArray(data.hits);\n      setshowMore(true);\n      setSearchActive(false);\n\n      // По идее этого тут не должно быть, добавление страницы реализовывается в методе handleShowMore\n      // Но если тут не добавить, то появляется баг, при котором при вызове showMore в state Добавляется +1 страница, но по факту\n      // Странцы не подгружаются. Это и есть костыль о  котором говорил. Как сделать лучше?\n      // Попробуй это закомментировать и поймешь.\n      setPage(page + 1);\n    });\n\n    e.preventDefault();\n  };\n\n  const handleShowMore = () => {\n    setPage(page + 1);\n    setSearchActive(true);\n\n    axiosAPI(value, page).then(data => {\n      setArray(prevValue => [...prevValue, ...data.hits]);\n      setSearchActive(false);\n    });\n  };\n\n  const handleOpenModal = e => {\n    isOpenModal(true);\n    setLargeImage(e.target.name);\n  };\n\n  const getValue = e => {\n    setValue(e.target.value);\n  };\n\n  // Не уверен, что так делается*\n  // Закрытие модалки по клику на бекдроп\n  const handleClickBackdrop = e => {\n    if (e.target.dataset.value === 'modal') {\n      isOpenModal(false);\n    }\n  };\n\n  // Не уверен, что так делается*\n  // Закрытие модалки по клику на Esc\n  const handlerKeypressCloseModal = e => {\n    if (e.code === 'Escape') {\n      document.body.classList.remove('isOpen');\n      isOpenModal(false);\n    }\n  };\n\n  // Не уверен\n  // Добавление класса на body для добавления overflow: hidden\n  if (openModal) {\n    document.body.classList.add('isOpen');\n  } else {\n    document.body.classList.remove('isOpen');\n  }\n\n  window.addEventListener('keydown', handlerKeypressCloseModal);\n\n  return (\n    <div className=\"App\">\n      <ImageFinderForm\n        submit={handleSubmit}\n        getValue={getValue}\n        setValue={value}\n      />\n      <ImageView array={array} isOpenModal={handleOpenModal} />\n      {showMore && (\n        <button type=\"button\" className={s.galleryBtn} onClick={handleShowMore}>\n          Show more\n        </button>\n      )}\n      {openModal && (\n        <Modal\n          largeImg={largeImage}\n          isOpen={openModal}\n          onClick={handleClickBackdrop}\n        />\n      )}\n      {searchActive && <Spinner animation=\"grow\" />}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryList\":\"ImageView_galleryList__2n8on\",\"galleryElement\":\"ImageView_galleryElement__2DgxR\",\"galleryImg\":\"ImageView_galleryImg__21XIp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2UnMH\",\"image\":\"Modal_image__1nJar\"};"],"sourceRoot":""}